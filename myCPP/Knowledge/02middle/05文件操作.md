# 5.文件操作

- 程序运行时产生的数据都属于临时数据，程序一旦运行结束都会被释放
- 通过文件可以将数据持久化
- C++中对文件操作需要包含头文件 *fstream*

## 5.0 基础

### 文件类型分为两种

1. 文本文件，文件以文本的ASCII码形式存储在计算机中
2. 二级制文件，文件以文本的二进制形式存储在计算机中，用户一般不能直接读懂他们

### 操作文件的三大类

1. ofstream：写操作
2. ifstream：读操作
3. fstream：读写操作

## 5.1 文本文件

### 5.1.1 写文件

1. 包含头文件   #include fstream
2. 创建流对象   ofstream ofs;
3. 打开文件     ofs.open("文件路径", 打开方式);
4. 写数据       ofs << "写入的数据";
5. 关闭文件     ofs.close();

- 文件打开方式可以配合使用，利用 | 操作符

#### 文件打开方式

- ios::in       为读文件而打开文件
- ios::out      为写文件而打开文件
- ios::ate      初始位置：文件尾
- ios:binary    二进制方式

#### 总结

- 文件操作必须包含头文件 fstream
- 打开文件时需要指定操作文件的路径，以及打开方式
- 利用<<可以向文件中写数据
- 操作完毕，要关闭文件

### 5.1.2 读文件

1. 包含头文件               #include fstream
2. 创建流对象               ifstream ifs;
3. 打开文件                 ifs.open("文件路径", 打开方式);
4. 判断文件是否打开成功      is_open()
5. 写数据                   四种读取方式
6. 关闭文件                 ifs.close();

## 5.2 二进制文件

- 以二进制的方式对文件进行读写操作
- 打开方式要指定为 ios::binary

### 5.2.1 写文件

- 二进制方式写文件主要利用流对象调用成员函数 write
- 函数原型：ostream & write(const char * buffer, int len);
- 参数解释：字符指针buffer指向内存中一段存储空间，len是读写的字节数

### 5.2.2 读文件

- 二进制方式读文件主要利用流对象调用成员函数 read
- 函数原型：istream & read(char * buffer, int len);
- 参数解释：字符指针buffer指向内存中一段存储空间，len是读写的字节数
